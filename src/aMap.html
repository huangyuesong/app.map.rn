<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <style type="text/css">
        body,html,#map{
          height: 100%;
          margin: 0px;
          font:12px Arial;
        }
        .amap-logo {display: none;}
    </style>
    <script src="http://webapi.amap.com/maps?v=1.3&key=a40a914e3c6f4e3d4e1188b26f9d855a"></script>
</head>
<body>
<div id="map"></div>
<script>
    var map = new AMap.Map("map", {resizeEnable: true});
    var lnglats = [
        [116.368904, 39.923423],
        [116.382122, 39.921176],
        [116.387271, 39.922501],
        [116.398258, 39.914600],
    ];
    var infoWindow = new AMap.InfoWindow({offset: new AMap.Pixel(0, -30)});

    for (var i = 0, marker; i < lnglats.length; i++) {
        var marker = new AMap.Marker({
            position: lnglats[i],
            map: map
        });

        marker.content = "$('#cc'.attr('love', '++'));";
        marker.on('click', markerClick);
        marker.emit('click', {target: marker});
    }

    function markerClick(e) {
        infoWindow.setContent(e.target.content);
        infoWindow.open(map, e.target.getPosition());
    }

    map.setFitView();

    (function() {
        map.plugin(["AMap.ToolBar"], function() {
            map.addControl(new AMap.ToolBar());
        });

        map.plugin(["AMap.Scale"], function() {
            map.addControl(new AMap.Scale());
        });
    })();
</script>
</body>
</html>
